# Fail2ban configuration
# Generated by Ansible - DO NOT EDIT MANUALLY

[DEFAULT]
# Ban hosts for {{ fail2ban_bantime }} seconds
bantime = {{ fail2ban_bantime }}

# A host is banned if it has generated "maxretry" during the last "findtime" seconds
findtime = {{ fail2ban_findtime }}

# "maxretry" is the number of failures before a host get banned
maxretry = {{ fail2ban_maxretry }}

# Backend for log monitoring
backend = {{ fail2ban_backend }}

# Email settings
{% if admin_email is defined %}
destemail = {{ admin_email }}
sendername = Fail2Ban-{{ ansible_hostname }}
mta = sendmail
{% endif %}

# Ban action
banaction = iptables-multiport
banaction_allports = iptables-allports

# Protocol
protocol = tcp

# Chain
chain = INPUT

# Ports
port = 0:65535

# Fail2ban will not ban a host which matches an address in this list
ignoreip = 127.0.0.1/8 ::1

# Log level
loglevel = INFO

# Log target
logtarget = /var/log/fail2ban.log

# Socket
socket = /var/run/fail2ban/fail2ban.sock

# PID file
pidfile = /var/run/fail2ban/fail2ban.pid