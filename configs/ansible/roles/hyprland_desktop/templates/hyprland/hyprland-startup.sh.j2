#!/bin/bash
# Hyprland startup script
# Generated by Ansible - DO NOT EDIT MANUALLY

# Wait for Hyprland to be ready
sleep 2

# Set wallpaper
if command -v hyprpaper &> /dev/null; then
    hyprpaper &
fi

# Start notification daemon
if command -v mako &> /dev/null; then
    mako &
fi

# Start status bar
if command -v waybar &> /dev/null; then
    waybar &
fi

# Start authentication agent
if [ -f /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 ]; then
    /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
fi

# Start idle daemon
if command -v hypridle &> /dev/null; then
    hypridle &
fi

# Import environment to systemd
systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Start user services
systemctl --user start pipewire pipewire-pulse wireplumber

echo "Hyprland startup completed"