# Intel i915 GPU Module Configuration - Generated by Ansible
# {{ ansible_managed }}

# Enable GuC submission for better power management
options i915 enable_guc={{ intel_gpu.enable_guc }}

# Enable HuC firmware loading
options i915 enable_huc={{ intel_gpu.enable_huc }}

# Enable Frame Buffer Compression for power savings
options i915 enable_fbc={{ intel_gpu.enable_fbc }}

# Enable Panel Self Refresh
options i915 enable_psr={{ intel_gpu.enable_psr }}

# Display Core power management
options i915 enable_dc={{ intel_gpu.enable_dc }}

# Disable power well (can save power but may cause issues)
options i915 disable_power_well={{ intel_gpu.disable_power_well }}

# Enable GPU virtualization (set to 0 for better power management)
options i915 enable_gvt={{ intel_gpu.enable_gvt }}

# Enable RC6 power state (usually enabled by default)
options i915 enable_rc6=1

# Enable RC6 power state in deep sleep mode
options i915 enable_rc6p=1

# Enable RC6 power state in deepest sleep mode
options i915 enable_rc6pp=1

# Semaphore timeout (0 = never timeout)
options i915 semaphores=1

# Enable preliminary hardware support
options i915 preliminary_hw_support=0

# Power management debug (set to 0 for production)
options i915 disable_power_well={{ intel_gpu.disable_power_well }}

# Fastboot (preserve BIOS/UEFI display setup)
options i915 fastboot=1