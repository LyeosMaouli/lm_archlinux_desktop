# systemd-logind configuration
# Generated by Ansible for {{ ansible_hostname }}

[Login]
# Handle power key
HandlePowerKey={{ power_handle_power_key | default('poweroff') }}

# Handle suspend key
HandleSuspendKey={{ power_handle_suspend_key | default('suspend') }}

# Handle hibernate key
HandleHibernateKey={{ power_handle_hibernate_key | default('hibernate') }}

# Handle lid switch
HandleLidSwitch={{ power_handle_lid_switch | default('suspend') }}
HandleLidSwitchExternalPower={{ power_handle_lid_switch_external | default('lock') }}
HandleLidSwitchDocked={{ power_handle_lid_switch_docked | default('ignore') }}

# Idle timeouts
IdleAction={{ power_idle_action | default('ignore') }}
IdleActionSec={{ power_idle_timeout | default('30min') }}

# Power button hold
HoldoffTimeoutSec={{ power_holdoff_timeout | default('30s') }}
PowerKeyIgnoreInhibited={{ power_key_ignore_inhibited | default('no') }}
SuspendKeyIgnoreInhibited={{ suspend_key_ignore_inhibited | default('no') }}
HibernateKeyIgnoreInhibited={{ hibernate_key_ignore_inhibited | default('no') }}
LidSwitchIgnoreInhibited={{ lid_switch_ignore_inhibited | default('yes') }}

# Remove IPC
RemoveIPC={{ power_remove_ipc | default('yes') }}

# Runtime directory size
RuntimeDirectorySize={{ power_runtime_dir_size | default('10%') }}

# Sessions
UserTasksMax={{ power_user_tasks_max | default('33%') }}

# Kill user processes on logout
KillUserProcesses={{ power_kill_user_processes | default('no') }}
KillOnlyUsers={{ power_kill_only_users | default('') }}
KillExcludeUsers={{ power_kill_exclude_users | default('root') }}